---
# Preamble

## Author
author:
  name: Богаткина Алёна Александровна
  degrees: DSc
  email: 1132231437@pfur.ru
  affiliation:
    - name: Российский университет дружбы народов
      country: Российская Федерация
      postal-code: 117198
      city: Москва
      address: ул. Миклухо-Маклая, д. 6

## Title
title: Презентация по лабораторной работе №5
subtitle: Сетевые технологии
license: CC BY
date: 2025-11-02

## Generic options
lang: ru-RU
crossref:
  lof-title: Список иллюстраций
  lot-title: Список таблиц
  lol-title: Листинги

## Fonts 
mainfont: DejaVu Sans
romanfont: DejaVu Sans 
sansfont: DejaVu Sans 
monofont: DejaVu Sans Mono 
mainfontoptions: Ligatures=TeX 
romanfontoptions: Ligatures=TeX 
sansfontoptions: Ligatures=TeX,Scale=MatchLowercase 
monofontoptions: Scale=MatchLowercase,Scale=0.9

## Formats
format:
### Pdf output format
  beamer:
    toc: true
    toc-title: Содержание
    number-sections: true
    colorlinks: false
    toc-depth: 2
    slide_level: 2
    aspectratio: 169
    section-titles: true
    theme: metropolis
    themeoptions: progressbar=frametitle,sectionpage=progressbar,numbering=fraction
    pdf-engine: xelatex
    fontenc: T2A
#### Language
    babel-lang: russian
    babel-otherlangs: english

### Html output
  revealjs:
    transition: slide
    margin: 0.2
    smaller: false
    output-ext: html
    theme: beige
    logo: _resources/image/logo_rudn.png
---

# Вводная часть

## Цель работы

Целью данной работы является построение простейших моделей сети на базе коммутатора и маршрутизаторов FRR и VyOS в GNS3, анализ трафика посредством Wireshark

# Выполнение лабораторной работы

## Моделирование простейшей сети на базе коммутатора в GNS3

Запустили GNS3 VM и GNS3. Создали новый проект. В рабочей области GNS3 разместили коммутатор Ethernet и два VPCS. ([рис. @fig-001]) 

![Топология простейшей сети в GNS3](image/1.png){#fig-001 width=70%}

## Моделирование простейшей сети на базе коммутатора в GNS3

Задали IP-адреса VPCS. Для этого запустили PC-1 и открыли его терминал. Для просмотра синтаксиса возможных для ввода команд набрали ```/?``` ([рис. @fig-002) 

![Просмотр синтаксиса возможных для ввода команд VPCS в GNS3](image/2.png){#fig-002 width=30%}

## Моделирование простейшей сети на базе коммутатора в GNS3

Для задания IP-адреса 192.168.1.11 в сети 192.168.1.0/24 ввели: ```ip 192.168.1.11/24 192.168.1.1```. А для сохранения конфигурации ввели команду ```save``` ([рис. @fig-003])

![Задание IP-адреса для PC-1 и сохранение конфигурации VPCS в GNS3](image/3.png){#fig-003 width=70%}

## Моделирование простейшей сети на базе коммутатора в GNS3
 
Аналогичным образом задали IP-адрес 192.168.1.12 для PC-2: ```ip 192.168.1.12/24 192.168.1.1``` ([рис. @fig-004])

![Задание IP-адреса для PC-2 и сохранение конфигурации VPCS в GNS3](image/4.png){#fig-004 width=70%}

## Моделирование простейшей сети на базе коммутатора в GNS3

Далее проверили работоспособность соединения между PC-1 и PC-2 с помощью команды ping: ```ping 192.168.1.12``` и ```ping 192.168.1.11```. После остановили в проекте все узлы (меню GNS3 "Control" -> "Stop all nodes"). ([рис. @fig-005]), ([рис. @fig-006])

![Отправка эхо-запроса от PC-1 к PC-2](image/5-1.png){#fig-005 width=70%}

## Моделирование простейшей сети на базе коммутатора в GNS3

![Отправка эхо-запроса от PC-2 к PC-1](image/5-2.png){#fig-006 width=70%}

## Анализ трафика в GNS3 посредством Wireshark

Запустили на соединении между PC-1 и коммутатором анализатор трафика. Запустился Wireshark, а в проекте GNS3 на соединении появился значок лупы ([рис. @fig-007])

![Запуск на соединении между PC-1 и коммутатором анализатора трафика](image/6.png){#fig-007 width=70%}

## Анализ трафика в GNS3 посредством Wireshark

В проекте GNS3 стартовали все узлы (меню GNS3 "Control" -> "Start/Resume all nodes"). В окне Wireshark отобразилась информация по протоколу ARP. Оба устройства отправляют ARP-запросы для определения MAC-адресов устройств, чей IP-адрес им уже известен ([рис. @fig-008])

![Отображение информации по протоколу ARP в окне Wireshark](image/7.png){#fig-008 width=70%}

## Анализ трафика в GNS3 посредством Wireshark

В терминале PC-2 посмотрели информацию по опциям команды ping, введя ```ping /?``` ([рис. @fig-009])

![Опции команды ping](image/8.png){#fig-009 width=50%}

## Анализ трафика в GNS3 посредством Wireshark

Затем сделали один эхо-запрос в ICMP-моде к узлу PC-1: ```ping 192.168.1.11 -1 -c 1``` ([рис. @fig-010]), ([рис. @fig-011])

![Отправка одного эхо-запроса в ICMP-моде к узла PC-1](image/8-1.png){#fig-010 width=70%}

## Анализ трафика в GNS3 посредством Wireshark

![Перехваченный пакет эхо-запроса в ICMP-моде](image/8-2.png){#fig-011 width=50%}

## Анализ трафика в GNS3 посредством Wireshark

Затем сделали один эхо-запрос в UDP-моде к узлу PC-1: ```ping 192.168.1.11 -2 -c 1``` ([рис. @fig-012]), ([рис. @fig-013])

![Отправка одного эхо-запроса в UDP-моде к узла PC-1](image/9-1.png){#fig-012 width=70%}

## Анализ трафика в GNS3 посредством Wireshark

![Перехваченный пакет эхо-запроса в UDP-моде](image/9-2.png){#fig-013 width=70%}

## Анализ трафика в GNS3 посредством Wireshark

Затем сделали один эхо-запрос в TCP-моде к узлу PC-1: ```ping 192.168.1.11 -3 -c 1``` ([рис. @fig-014])

![Отправка одного эхо-запроса в TCP-моде к узла PC-1](image/10-1.png){#fig-014 width=70%}

## Анализ трафика в GNS3 посредством Wireshark

Для отправки TCP-пакета сначала выполняется процедура трехстороннего рукопожатия (TCP handshake). После установления соединения отправляется сам эхо-запрос ([рис. @fig-015])

![Перехваченный пакет эхо-запроса в TCP-моде](image/10-2.png){#fig-015 width=40%}

## Моделирование простейшей сети на базе маршрутизатора FRR в GNS3

Запустили GNS3 VM и GNS3. Создали новый проект. В рабочей области GNS3 разместили VPCS, коммутатор Ethernet и маршрутизатор FRR ([рис. @fig-016])

![Топология простейшей сети с маршрутизатором FRR в GNS3](image/11.png){#fig-016 width=70%}

## Моделирование простейшей сети на базе маршрутизатора FRR в GNS3

Включили захват трафика на соединении между коммутатором и маршрутизатором ([рис. @fig-017])

![Топология простейшей сети с маршрутизатором FRR в GNS3. Включение захвата трафика на соединении между коммутатором и маршрутизатором](image/12.png){#fig-017 width=70%}

## Моделирование простейшей сети на базе маршрутизатора FRR в GNS3

Запустили все устройства проекта ([рис. @fig-018])

![Топология простейшей сети с маршрутизатором FRR в GNS3. Включение всех устройств проекта](image/13.png){#fig-018 width=70%}

## Моделирование простейшей сети на базе маршрутизатора FRR в GNS3

Открыли консоли всех устройств проекта. Настроили IP-адресацию для интерфейса узла PC1 ([рис. @fig-019]):

![Настройка IP-адресации для интерфейса узла PC1 (1)](image/14.png){#fig-019 width=50%}

## Моделирование простейшей сети на базе маршрутизатора FRR в GNS3

Настроили IP-адресацию для интерфейса локальной сети маршрутизатора ([рис. @fig-020]):

![Настройка IP-адресации для интерфейса локальной сети маршрутизатора FRR](image/15.png){#fig-020 width=40%}

## Моделирование простейшей сети на базе маршрутизатора FRR в GNS3

Далее проверили конфигурацию маршрутизатора и настройки IP-адресации ([рис. @fig-021]):

![Проверка конфигурации маршрутизатора и настройки IP-адресации](image/16.png){#fig-021 width=30%}

## Моделирование простейшей сети на базе маршрутизатора FRR в GNS3

Проверили подключение с помощью ```ping 192.168.1.1```. Узел PC1 успешно отправляет эхо-запросы
на адрес маршрутизатора 192.168.1.1 ([рис. @fig-022]) 

![Отправка эхо-запроса от PC1 к маршрутизатору FRR](image/17-1.png){#fig-022 width=70%}

## Моделирование простейшей сети на базе маршрутизатора FRR в GNS3

Посмотрели информацию в окне wireshark. Связь с маршрутизатором FRR работает идеально - все ping-запросы успешно доставляются и получают ответы, ARP-таблицы корректно обновляются с обеих сторон ([рис. @fig-023])

![Информация об эхо-запросе от PC1 к маршрутизатору FRR](image/17-2.png){#fig-023 width=50%}

## Моделирование простейшей сети на базе маршрутизатора VyOS в GNS3

Запустили GNS3 VM и GNS3. Создали новый проект. В рабочей области GNS3 разместили VPCS, коммутатор Ethernet и маршрутизатор VyOS ([рис. @fig-024])

![Топология простейшей сети с маршрутизатором VyOS в GNS3](image/18.png){#fig-024 width=70%}

## Моделирование простейшей сети на базе маршрутизатора VyOS в GNS3

Включили захват трафика на соединении между коммутатором и маршрутизатором ([рис. @fig-025])

![Топология простейшей сети с маршрутизатором VyOS в GNS3. Включение захвата трафика на соединении между коммутатором и маршрутизатором](image/19.png){#fig-025 width=70%}

## Моделирование простейшей сети на базе маршрутизатора VyOS в GNS3

Запустили все устройства проекта ([рис. @fig-026])

![Топология простейшей сети с маршрутизатором VyOS в GNS3. Включение всех устройств проекта](image/20.png){#fig-026 width=70%}

## Моделирование простейшей сети на базе маршрутизатора VyOS в GNS3

Открыли консоли всех устройств проекта. Настроили IP-адресацию для интерфейса узла PC1 ([рис. @fig-027]):

![Настройка IP-адресации для интерфейса узла PC1 (2)](image/21.png){#fig-027 width=50%}

## Моделирование простейшей сети на базе маршрутизатора VyOS в GNS3

Далее натроили маршрутизатор VyOS. После загрузки введите логин vyos и пароль vyos. В рабочем режиме в командной строке отображается символ $ ([рис. @fig-028])

![Ввод логина и пароля для VyOS. Отображение рабочего режима](image/22.png){#fig-028 width=40%}

## Моделирование простейшей сети на базе маршрутизатора VyOS в GNS3

Установили систему на диск: ```vyos@vyos:~$ install image``` ([рис. @fig-029])

![Установка системы на диск](image/23.png){#fig-029 width=70%}

## Моделирование простейшей сети на базе маршрутизатора VyOS в GNS3

Далее настроили vyso ([рис. @fig-030]), ([рис. @fig-031]): 

![Настройка vyos (1)](image/24.png){#fig-030 width=70%}

## Моделирование простейшей сети на базе маршрутизатора VyOS в GNS3

![Настройка vyos (2)](image/25.png){#fig-031 width=70%}

## Моделирование простейшей сети на базе маршрутизатора VyOS в GNS3

Посмотрели информацию об интерфейсах маршрутизатора: ```vyos@vyos# show interfaces```. А после вышли из режима конфигурирования: ```vyos@vyos# exit``` ([рис. @fig-032])  

## Моделирование простейшей сети на базе маршрутизатора VyOS в GNS3

![Информация об интерфейсах маршрутизатора и выход из режима конфигурирования](image/26.png){#fig-032 width=20%}

## Моделирование простейшей сети на базе маршрутизатора VyOS в GNS3

Проверили подключение с помощью ```ping 192.168.1.1```. Узел PC1 успешно отправляет эхо-запросы
на адрес маршрутизатора 192.168.1.1 ([рис. @fig-033]) 

![Отправка эхо-запроса от PC1 к маршрутизатору VyOS](image/27-1.png){#fig-033 width=60%}

## Моделирование простейшей сети на базе маршрутизатора VyOS в GNS3

Посмотрели информацию в окне wireshark. Связь с маршрутизатором VyOS работает отлично - все ping-запросы успешно доставляются ([рис. @fig-034])

![Информация об эхо-запросе от PC1 к маршрутизатору VyOS](image/27-2.png){#fig-034 width=40%}

# Подведение итогов

## Выводы

В ходе выполнения лабораторной работы №5 мы научились строить простейшие модели сети на базе коммутатора и маршрутизаторов FRR и VyOS в GNS3. Проанализировали трафик посредством Wireshark.

## Список литературы

1. [Лаборатораня работа №5](https://esystem.rudn.ru/pluginfile.php/2858375/mod_resource/content/2/005-lab_datalink-layer-GNS3-WSh.pdf)
