---
# Preamble

## Author
author:
  name: Богаткина Алёна Александровна
  degrees: DSc
  orcid: 0000-0002-0877-7063
  email: kulyabov-ds@rudn.ru
  affiliation:
    - name: Российский университет дружбы народов
      country: Российская Федерация
      postal-code: 117198
      city: Москва
      address: ул. Миклухо-Маклая, д. 6
## Title
title: "Доклад"
subtitle: "Протокол TCP"
license: "CC BY"
## Generic options
lang: ru-RU
number-sections: true
toc: true
toc-title: "Содержание"
toc-depth: 2
## Crossref customization
crossref:
  lof-title: "Список иллюстраций"
  lot-title: "Список таблиц"
  lol-title: "Листинги"
## Bibliography
bibliography:
  - bib/cite.bib
csl: _resources/csl/gost-r-7-0-5-2008-numeric.csl
## Formats
format:
### Pdf output format
  pdf:
    toc: true
    number-sections: true
    colorlinks: false
    toc-depth: 2
    lof: true # List of figures
    lot: true # List of tables
#### Document
    documentclass: scrreprt
    papersize: a4
    fontsize: 12pt
    linestretch: 1.5
#### Language
    babel-lang: russian
    babel-otherlangs: english
#### Biblatex
    cite-method: biblatex
    biblio-style: gost-numeric
    biblatexoptions:
      - backend=biber
      - langhook=extras
      - autolang=other*
#### Misc options
    csquotes: true
    indent: true
    header-includes: |
      \usepackage{indentfirst}
      \usepackage{float}
      \floatplacement{figure}{H}
      \usepackage[math,RM={Scale=0.94},SS={Scale=0.94},SScon={Scale=0.94},TT={Scale=MatchLowercase,FakeStretch=0.9},DefaultFeatures={Ligatures=Common}]{plex-otf}
### Docx output format
  docx:
    toc: true
    number-sections: true
    toc-depth: 2
---

# Введение

Современное информационное пространство немыслимо без глобальной компьютерной сети Интернет, основу которой составляет стек протоколов TCP/IP. В рамках этого стека ключевую роль играют протоколы транспортного уровня, отвечающие за непосредственную передачу данных между приложениями. Среди них протокол управления передачей (Transmission Control Protocol, TCP) является фундаментальным и наиболее широко используемым механизмом, обеспечивающим надежную коммуникацию в разнородных сетевых средах.([рис. @fig-001])

![](image/1.png){#fig-001 width=70%}

Актуальность темы обусловлена тем, что TCP служит основой для функционирования подавляющего большинства современных интернет-сервисов и приложений. Такие повседневные задачи, как просмотр веб-страниц (HTTP/HTTPS), обмен электронной почтой, передача файлов и удаленный доступ к серверам, напрямую зависят от надежности и эффективности этого протокола.

Целью данного доклада является комплексный анализ протокола TCP, его механизмов и характеристик. Для достижения этой цели в работе поставлены следующие задачи:

1. Изучить основные принципы функционирования TCP как протокола с установлением соединения.
2. Рассмотреть ключевые механизмы, обеспечивающие его надежность: управление потоком данных, контроль перегрузки и восстановление после ошибок.
3. Проанализировать структуру заголовка TCP-сегмента.
4. Провести сравнительный анализ TCP с протоколом UDP, выявить их достоинства, недостатки и области применения

# Основные характеристики и принципы работы

## Что такое TCP протокол?

**TCP (Transmission Control Protocol)** — это протокол транспортного уровня стека TCP/IP, который обеспечивает надежную, ориентированную на соединение доставку данных между приложениями, работающими на разных узлах сети. В отличие от более простых протоколов, TCP гарантирует, что отправленные данные будут получены точно в такой же последовательности, без потерь и дубликатов. Его часто сравнивают с заказным письмом с уведомлением о вручении: он не только отправляет информацию, но и требует подтверждения её получения. Благодаря этому, TCP служит основой для таких критически важных интернет-сервисов, как веб-браузинг (HTTP/HTTPS), электронная почта (SMTP) и передача файлов (FTP). ([рис. @fig-002])

![](image/2.png){#fig-002 width=70%}

## История появления TCP

История TCP неразрывно связана с созданием сети ARPANET, предшественницы современного Интернета. В 1970-х годах перед учёными Винтоном Серфом и Робертом Каном стояла задача разработать универсальный и отказоустойчивый протокол для объединения разнородных сетей. Результатом их работы в 1974 году стала статья «A Protocol for Packet Network Intercommunication», в которой впервые был описан протокол TCP.

Изначально TCP сочетал в себе функции как транспортного, так и сетевого уровня. Однако в дальнейшем, для большей гибкости, он был разделен на две части: собственно TCP, отвечающий за надежную передачу данных, и IP (Internet Protocol), отвечающий за адресацию и маршрутизацию пакетов. Это разделение, окончательно закреплённое в 1981 году с публикацией RFC 793, положило начало стеку протоколов TCP/IP, который в 1983 году стал стандартом для ARPANET и впоследствии для всего глобального Интернета

## Принцип работы TCP

Принципы работы TCP построены на нескольких фундаментальных механизмах, обеспечивающих его надежность и эффективность.

**1. Установление соединения («Трехстороннее рукопожатие»)**

Прежде чем начать обмен данными, клиент и сервер устанавливают логическое соединение. Этот процесс состоит из трех шагов:

- SYN: Клиент отправляет серверу сегмент с установленным флагом SYN (synchronize), указывая свой начальный порядковый номер (Sequence Number).
- SYN-ACK: Сервер отвечает сегментом с установленными флагами SYN и ACK (acknowledgment). В нем подтверждается получение запроса клиента и указывается свой начальный порядковый номер.
- ACK: Клиент отправляет сегмент с флагом ACK, подтверждая получение ответа сервера. После этого соединение считается установленным, и может начаться передача данных. ([рис. @fig-003])

![](image/3.png){#fig-003 width=70%}

**2. Гарантированная доставка и механизм повторной передач**

После отправки данных отправитель ожидает подтверждения (ACK) от получателя. Каждый байт данных имеет свой порядковый номер. Получатель, успешно приняв данные, отправляет ACK с номером следующего ожидаемого байта. Если в течение определенного времени (тайм-аута) подтверждение не приходит, отправитель считает сегмент утерянным и передает его заново.

**3. Управление потоком (Flow Control)**

Этот механизм предотвращает «переполнение» получателя, если он не успевает обрабатывать входящие данные. Для этого используется поле «Окно» (Window) в заголовке TCP. Получатель сообщает отправителю размер доступного буфера — то,
сколько байт данных он готов принять без подтверждения. Отправитель не может послать данных больше, чем размер этого «скользящего окна».

**4. Управление перегрузкой (Congestion Control)**

Чтобы не перегружать каналы связи в сети, TCP динамически регулирует интенсивность передачи данных. При установлении соединения используется алгоритм «Медленный старт» (Slow Start), который быстро наращивает скорость передачи до
первого обнаружения потери пакета. После этого протокол переходит в режим «Предотвращение перегрузки» (Congestion Avoidance), более плавно увеличивая скорость, что позволяет эффективно использовать пропускную способность сети, не
перегружая её.

**5. Разрыв соединения**

Для корректного завершения сеанса связи используется процедура, аналогичная установлению соединения, но с использованием флага FIN (finish). Каждая сторона инициирует и подтверждает закрытие своего канала передачи, что гарантирует, что все
данные были доставлены перед разрывом

# Структура заголовка TCP

Заголовок TCP является ключевым элементом протокола, который содержит всю необходимую управляющую информацию для обеспечения надежной связи. Он добавляется к данным приложения, формируя сегмент. Минимальный размер заголовка составляет 20 байт (160 бит), но может быть увеличен до 60 байт за счет опций. Структура заголовка жестко регламентирована и включает в себя следующие ключевые поля:

**1. Порты источника и назначения (Source & Destination Port, по 16 бит каждый)**

Эти поля идентифицируют приложения-отправителя и приложения-получателя на хостах. Порт в сочетании с IP-адресом образует уникальный сетевой адрес, называемый сокетом (socket), который однозначно определяет, какому именно процессу на компьютере предназначен данный сегмент. Например, веб-сервер обычно «слушает» 80-й порт.

**2. Порядковый номер и номер подтверждения (Sequence & Acknowledgment Numbers, по 32 бита каждый)*

- Порядковый номер (Sequence Number) идентифицирует первый байт данных в текущем сегменте. Это позволяет получателю правильно собрать поток байтов, даже если сегменты пришли в неправильном порядке.
- Номер подтверждения (Acknowledgment Number) содержит следующий порядковый номер, который ожидает получить сторона, отправившая этот сегмент. Таким образом, он подтверждает успешный прием всех данных до этого номера. Эти два поля являются основой надежной доставки данных в TCP.

**3. Флаги (управляющие биты, Flags)** 

Это 9 однобитовых флагов, которые управляют состоянием соединения. Наиболее важными из них являются:

- SYN (Synchronize): Используется для запроса на установление соединения (синхронизации последовательностей) во время «трехстороннего рукопожатия».
- ACK (Acknowledgment): Указывает, что поле «Номер подтверждения» является значимым. Почти все сегменты после установления соединения имеют установленный этот флаг.
- FIN (Finish): Сигнализирует о желании одной из сторон корректно завершить соединение.
- RST (Reset): Немедленно разрывает соединение в случае нештатной ситуации (например, при получении сегмента на несуществующий порт)

**4. Окно (Window Size, 16 бит)**

Поле «Окно» является основным механизмом управления потоком (Flow Control). Оно сообщает отправителю, сколько байтов данных получатель готов принять, начиная с байта, указанного в номере подтверждения. Это позволяет предотвратить переполнение буфера приемника и заставляет отправителя «подстраиваться» под скорость обработки данных получателем. Размер окна может динамически изменяться в течение сессии.

**5. Контрольная сумма (Checksum, 16 бит)**

Вычисляется для всего сегмента TCP, а также для части заголовка IP (псевдозаголовок). Служит для проверки целостности данных. Если получатель вычисляет контрольную сумму и она не совпадает с значением в поле, сегмент считается поврежденным и отбрасывается, что влечет за собой его повторную передачу. ([рис. @fig-004])

![](image/4.png){#fig-004 width=70%}

# Сравнение с UDP 

Транспортный уровень стека TCP/IP представлен двумя фундаментально разными протоколами: TCP (Transmission Control Protocol) и UDP (User Datagram Protocol). Несмотря на общее предназначение — передачу данных между приложениями — их подходы к решению этой задачи являются противоположными. Сравнительный анализ этих протоколов позволяет четко определить их место в современных сетях.

## Достоинства и недостатки

\begin{table}[H]
\centering
\caption{Сравнение TCP и UDP}
\label{table:table}
\begin{tabular}{|p{5cm}|p{5cm}|p{5cm}|}
\hline
\textbf{Критерий} & \textbf{TCP (Transmission Control Protocol)} & \textbf{UDP (User Datagram Protocol)} \\ \hline
Тип соединения & Установление соединения (connection-oriented) & Дейтаграммный, без установления соединения (connectionless) \\ \hline
Гарантия доставки & Гарантированная, с подтверждением и повторной передачей & Негарантированная, без подтверждений \\ \hline
Упорядочивание & Сохраняет порядок пакетов & Не сохраняет порядок пакетов \\ \hline
Контроль потока & Присутствует (механизм "скользящего окна") & Отсутствует \\ \hline
Надёжность & Высокая (контрольные суммы, таймауты, повторные передачи) & Базовая (только контрольная сумма для проверки целостности) \\ \hline
Заголовок & Большой (от 20 байт), сложный & Маленький (8 байт), фиксированный \\ \hline
Скорость & Относительно низкая из-за накладных расходов & Высокая, минимальные задержки \\ \hline
Нагрузка на сеть & Выше & Ниже \\ \hline
\end{tabular}
\end{table}

## Области применения

Различия в характеристиках TCP и UDP предопределяют их области применения. 

TCP применяется в тех случаях, когда важна точность и целостность каждой порции информации:

- Веб-браузинг (HTTP/HTTPS): Загрузка веб-страниц должна быть полной и без ошибок.
- Передача файлов (FTP, BitTorrent): Потеря даже одного фрагмента файла недопустима.
- Электронная почта (SMTP, POP3, IMAP): Сообщения должны быть доставлены целиком.
- Удаленный доступ (SSH, RDP): Каждая команда или символ должны быть переданы точно.

UDP является оптимальным выбором для приложений, критичных к задержкам, где скорость важнее надежности:

- Потоковое видео и аудио (Zoom, Skype, IP-телефония): Небольшая потеря пакетов менее заметна для пользователя, чем задержка или буферизация.
- Онлайн-игры в реальном времени: Здесь важна минимальная задержка, а потеря нескольких пакетов с информацией о позиции может быть интерполирована.
- DNS-запросы: Запросы на разрешение имен короткие, и повторная отправка в случае таймаута часто быстрее, чем установление TCP-соединения.
- Трансляция трафика (Multicast, Broadcast): Рассылка данных множеству получателей, где механизмы подтверждения TCP неэффективны.

Таким образом, выбор между TCP и UDP является фундаментальным архитектурным решением. TCP обеспечивает надежный, но более медленный канал связи, в то время как UDP предоставляет быстрый, но ненадежный механизм передачи данных. ([рис. @fig-005])

![](image/5.png){#fig-005 width=70%}

# Выводы

Проведенный в докладе анализ позволяет сделать вывод, что протокол TCP является краеугольным камнем современных сетевых коммуникаций. Благодаря своим фундаментальным характеристикам — надежности, гарантированной доставке и сохранению порядка данных — он обеспечивает стабильную и предсказуемую работу подавляющего большинства критически важных интернет-сервисов, от веб-браузинга и электронной почты до передачи файлов.

Ключевыми механизмами, лежащими в основе этой надежности, являются установление логического соединения посредством «трехстороннего рукопожатия», управление потоком для предотвращения переполнения получателя, сложные алгоритмы управления перегрузкой для защиты сети от перегрузок и механизмы повторной передачи для компенсации потерь.

Таким образом, протокол TCP, несмотря на свои относительно высокие накладные расходы, остается не просто одним из протоколов транспортного уровня, а основным гарантом надежной и упорядоченной передачи информации в глобальной сети Интернет. Его развитие и оптимизация продолжаются, что свидетельствует о его непреходящей актуальности в условиях постоянного роста и усложнения сетевых технологий. ([рис. @fig-006])

![](image/6.png){#fig-006 width=70%}

# Список литературы

1. [Postel, J. Transmission Control Protocol, RFC 793 — 1981.](https://www.rfc-editor.org/rfc/rfc793.html)
2. Олифер, В. Г. Компьютерные сети. Принципы, технологии, протоколы / В. Г. Олифер, Н. А. Олифер. — 5-е изд. — СПб. : Питер, 2016.
3. Стивенс, У. Р. TCP/IP Illustrated, Volume 1: The Protocols / У. Р. Стивенс. — Addison-Wesley Professional, 1994.
4. Комер, Д. Сети TCP/IP. Том 1. Принципы, протоколы и структура / Д. Комер. — М. : Вильямс, 2014.
5. [Винтон, С. A Protocol for Packet Network Intercommunication // IEEE Transactions on Communications. — 1974](https://doi.org/10.1109/TCOM.1974.1092259)

